/**
 * Pi.js - Graphics and Sound Library
 * @version 2.0.0-alpha.1
 * @author Andy Stubbs
 * @license Apache-2.0
 * @preserve
 */
var O=Object.defineProperty;var E=(e,t)=>{for(var n in t)O(e,n,{get:t[n],enumerable:!0})};var c=Object.freeze({LOG:"log",THROW:"throw",NONE:"none"}),w=c.LOG;function y(e){if(w===c.LOG)console.error(e);else if(w===c.THROW)throw new Error(e)}var g={nextScreenId:0,screens:{},activeScreen:null,images:{},imageCount:0,defaultPrompt:"\xDB",defaultFont:{},nextFontId:0,fonts:{},defaultPalette:[],defaultColor:7,commands:{},screenCommands:{},defaultPenDraw:null,pens:{},penList:[],blendCommands:{},blendCommandsList:[],defaultBlendCmd:null,settings:{},settingsList:[],volume:.75,log:y,isTouchScreen:!1,defaultInputFocus:typeof window<"u"?window:null};var p={};E(p,{binarySearch:()=>K,cToHex:()=>u,canAddEventListeners:()=>T,checkColor:()=>H,clamp:()=>M,colorStringToColor:()=>x,colorStringToHex:()=>v,compareColors:()=>N,convertToArray:()=>V,convertToColor:()=>R,copyProperties:()=>j,dataToHex:()=>F,degreesToRadian:()=>U,deleteProperties:()=>_,getInt:()=>Q,getWindowSize:()=>J,hexToColor:()=>h,hexToData:()=>D,inRange:()=>$,inRange2:()=>W,isArray:()=>m,isDomElement:()=>C,isFunction:()=>L,isInteger:()=>a,math:()=>X,pad:()=>G,padL:()=>b,padR:()=>z,queueMicrotask:()=>Y,radiansToDegrees:()=>q,rgbToColor:()=>f,rgbToHex:()=>P,rndRange:()=>k});var L=e=>typeof e=="function",C=e=>e instanceof Element,m=Array.isArray,a=Number.isInteger,T=e=>typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function";function h(e){let t,n,r,o,i;return i=e,e.length===4?(t=parseInt(e.slice(1,2),16)*16-1,n=parseInt(e.slice(2,3),16)*16-1,r=parseInt(e.slice(3,4),16)*16-1):(t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16)),e.length===9?(i=e.slice(0,7),o=parseInt(e.slice(7,9),16)):o=255,{r:t,g:n,b:r,a:o,s:`rgba(${t},${n},${r},${Math.round(o/255*1e3)/1e3})`,s2:i}}function u(e){a(e)||(e=Math.round(e)),e=M(e,0,255);let t=Number(e).toString(16);return t.length<2?"0"+t:t.toUpperCase()}function P(e,t,n,r){return isNaN(r)&&(r=255),"#"+u(e)+u(t)+u(n)+u(r)}function f(e,t,n,r){return h(P(e,t,n,r))}function x(e){let n=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});n.fillStyle=e,n.fillRect(0,0,1,1);let r=n.getImageData(0,0,1,1).data;return f(r[0],r[1],r[2],r[3])}function v(e){return x(e).s2}function A(e){e=e.slice(e.indexOf("(")+1,e.indexOf(")"));let t=e.split(","),n=[];for(let r=0;r<t.length;r++){let o;r===3?o=parseFloat(t[r].trim())*255:o=parseInt(t[r].trim()),n.push(o)}return n}function R(e){if(e===void 0)return null;if(m(e)&&e.length>2)return f(e[0],e[1],e[2],e[3]);if(a(e?.r)&&a(e?.g)&&a(e?.b))return f(e.r,e.g,e.b,e.a);if(typeof e!="string")return null;if(/(^#[0-9A-F]{8}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e))return h(e);if(e.indexOf("rgb")===0){let n=A(e);return n.length<3?null:f(n[0],n[1],n[2],n[3])}return x(e)}function H(e){let t=new Option().style;return t.color=e,t.color!==""}function N(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}function D(e,t,n){e=e.toUpperCase();let r=[],o=0,i="",s=0;for(let l=0;l<n;l++){r.push([]);for(let I=0;I<t;I++){if(s>=i.length){let d=parseInt(e[o],16);isNaN(d)&&(d=0),i=b(d.toString(2),4,"0"),o+=1,s=0}r[l].push(parseInt(i[s])),s+=1}}return r}function F(e){let t="",n="";for(let r=0;r<e.length;r++)for(let o=0;o<e[r].length;o++)n+=e[r][o],n.length===4&&(t+=parseInt(n,2).toString(16),n="");return t}function M(e,t,n){return Math.min(Math.max(e,t),n)}function $(e,t){return e.x>=t.x&&e.x<t.x+t.width&&e.y>=t.y&&e.y<t.y+t.height}function W(e,t,n,r,o,i){return e>=n&&e<n+o&&t>=r&&t<r+i}function k(e,t){return Math.random()*(t-e)+e}function U(e){return e*(Math.PI/180)}function q(e){return e*(180/Math.PI)}function b(e,t,n){typeof n!="string"&&(n=" ");let r="";e=e+"";for(let o=e.length;o<t;o++)r+=n;return r+e}function z(e,t,n){typeof n!="string"&&(n=" "),e=e+"";for(let r=e.length;r<t;r++)e+=n;return e}function G(e,t,n){for((typeof n!="string"||n.length===0)&&(n=" "),e=e+"";e.length<t;)e=n+e+n;return e.length>t&&(e=e.substr(0,t)),e}function j(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function V(e){let t=[];for(let n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function _(e){for(let t in e)e.hasOwnProperty(t)&&delete e[t]}function J(){let e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return{width:e,height:t}}function K(e,t,n){let r=0,o=e.length-1;for(;r<=o;){let i=o+r>>1,s=n(t,e[i],i);if(s>0)r=i+1;else if(s<0)o=i-1;else return i}return-r-1}function Q(e,t){return e=parseInt(e),isNaN(e)&&(e=t),e}var X=Object.freeze({deg30:Math.PI/6,deg45:Math.PI/4,deg60:Math.PI/3,deg90:Math.PI/2,deg120:2*Math.PI/3,deg135:3*Math.PI/4,deg150:5*Math.PI/6,deg180:Math.PI,deg210:7*Math.PI/6,deg225:5*Math.PI/4,deg240:4*Math.PI/3,deg270:3*Math.PI/2,deg300:5*Math.PI/3,deg315:7*Math.PI/4,deg330:11*Math.PI/6,deg360:Math.PI*2}),Y=window.queueMicrotask||(e=>setTimeout(e,0));var Z="2.0.0-alpha.1",S={version:Z,_:{data:g},util:p};typeof window<"u"&&(window.pi=S);var pe=S;export{pe as default,S as pi};
/**
 * Pi.js - Main Entry Point
 * 
 * Graphics and sound library for retro-style games and demos.
 * Modernized architecture with legacy API compatibility.
 * 
 * @module pi.js
 * @author Andy Stubbs
 * @license Apache-2.0
 */
//# sourceMappingURL=pi.esm.min.js.map
