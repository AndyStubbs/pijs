/**
 * Pi.js - Graphics and Sound Library
 * @version 2.0.0-alpha.1
 * @author Andy Stubbs
 * @license Apache-2.0
 * @preserve
 */
var A=Object.defineProperty;var v=(e,t)=>{for(var n in t)A(e,n,{get:t[n],enumerable:!0})};var s={nextScreenId:0,screens:{},activeScreen:null,images:{},imageCount:0,defaultPrompt:"\xDB",defaultFont:{},nextFontId:0,fonts:{},defaultPalette:[],defaultColor:7,commands:{},screenCommands:{},defaultPenDraw:null,pens:{},penList:[],blendCommands:{},blendCommandsList:[],defaultBlendCmd:null,settings:{},settingsList:[],volume:.75,isTouchScreen:!1,defaultInputFocus:typeof window<"u"?window:null},w=[];var p={};v(p,{binarySearch:()=>X,cToHex:()=>d,canAddEventListeners:()=>R,checkColor:()=>F,clamp:()=>M,colorStringToColor:()=>h,colorStringToHex:()=>N,compareColors:()=>H,convertToArray:()=>J,convertToColor:()=>$,copyProperties:()=>G,dataToHex:()=>W,degreesToRadian:()=>z,deleteProperties:()=>K,getInt:()=>Y,getWindowSize:()=>Q,hexToColor:()=>g,hexToData:()=>k,inRange:()=>U,inRange2:()=>_,isArray:()=>m,isDomElement:()=>P,isFunction:()=>O,isInteger:()=>u,math:()=>Z,pad:()=>B,padL:()=>S,padR:()=>j,queueMicrotask:()=>ee,radiansToDegrees:()=>V,rgbToColor:()=>f,rgbToHex:()=>y,rndRange:()=>q});var O=e=>typeof e=="function",P=e=>e instanceof Element,m=Array.isArray,u=Number.isInteger,R=e=>typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function";function g(e){let t,n,r,o,i;return i=e,e.length===4?(t=parseInt(e.slice(1,2),16)*16-1,n=parseInt(e.slice(2,3),16)*16-1,r=parseInt(e.slice(3,4),16)*16-1):(t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16)),e.length===9?(i=e.slice(0,7),o=parseInt(e.slice(7,9),16)):o=255,{r:t,g:n,b:r,a:o,s:`rgba(${t},${n},${r},${Math.round(o/255*1e3)/1e3})`,s2:i}}function d(e){u(e)||(e=Math.round(e)),e=M(e,0,255);let t=Number(e).toString(16);return t.length<2?"0"+t:t.toUpperCase()}function y(e,t,n,r){return isNaN(r)&&(r=255),"#"+d(e)+d(t)+d(n)+d(r)}function f(e,t,n,r){return g(y(e,t,n,r))}function h(e){let n=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});n.fillStyle=e,n.fillRect(0,0,1,1);let r=n.getImageData(0,0,1,1).data;return f(r[0],r[1],r[2],r[3])}function N(e){return h(e).s2}function D(e){e=e.slice(e.indexOf("(")+1,e.indexOf(")"));let t=e.split(","),n=[];for(let r=0;r<t.length;r++){let o;r===3?o=parseFloat(t[r].trim())*255:o=parseInt(t[r].trim()),n.push(o)}return n}function $(e){if(e===void 0)return null;if(m(e)&&e.length>2)return f(e[0],e[1],e[2],e[3]);if(u(e?.r)&&u(e?.g)&&u(e?.b))return f(e.r,e.g,e.b,e.a);if(typeof e!="string")return null;if(/(^#[0-9A-F]{8}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e))return g(e);if(e.indexOf("rgb")===0){let n=D(e);return n.length<3?null:f(n[0],n[1],n[2],n[3])}return h(e)}function F(e){let t=new Option().style;return t.color=e,t.color!==""}function H(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}function k(e,t,n){e=e.toUpperCase();let r=[],o=0,i="",a=0;for(let l=0;l<n;l++){r.push([]);for(let I=0;I<t;I++){if(a>=i.length){let c=parseInt(e[o],16);isNaN(c)&&(c=0),i=S(c.toString(2),4,"0"),o+=1,a=0}r[l].push(parseInt(i[a])),a+=1}}return r}function W(e){let t="",n="";for(let r=0;r<e.length;r++)for(let o=0;o<e[r].length;o++)n+=e[r][o],n.length===4&&(t+=parseInt(n,2).toString(16),n="");return t}function M(e,t,n){return Math.min(Math.max(e,t),n)}function U(e,t){return e.x>=t.x&&e.x<t.x+t.width&&e.y>=t.y&&e.y<t.y+t.height}function _(e,t,n,r,o,i){return e>=n&&e<n+o&&t>=r&&t<r+i}function q(e,t){return Math.random()*(t-e)+e}function z(e){return e*(Math.PI/180)}function V(e){return e*(180/Math.PI)}function S(e,t,n){typeof n!="string"&&(n=" ");let r="";e=e+"";for(let o=e.length;o<t;o++)r+=n;return r+e}function j(e,t,n){typeof n!="string"&&(n=" "),e=e+"";for(let r=e.length;r<t;r++)e+=n;return e}function B(e,t,n){for((typeof n!="string"||n.length===0)&&(n=" "),e=e+"";e.length<t;)e=n+e+n;return e.length>t&&(e=e.substr(0,t)),e}function G(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function J(e){let t=[];for(let n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function K(e){for(let t in e)e.hasOwnProperty(t)&&delete e[t]}function Q(){let e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return{width:e,height:t}}function X(e,t,n){let r=0,o=e.length-1;for(;r<=o;){let i=o+r>>1,a=n(t,e[i],i);if(a>0)r=i+1;else if(a<0)o=i-1;else return i}return-r-1}function Y(e,t){return e=parseInt(e),isNaN(e)&&(e=t),e}var Z=Object.freeze({deg30:Math.PI/6,deg45:Math.PI/4,deg60:Math.PI/3,deg90:Math.PI/2,deg120:2*Math.PI/3,deg135:3*Math.PI/4,deg150:5*Math.PI/6,deg180:Math.PI,deg210:7*Math.PI/6,deg225:5*Math.PI/4,deg240:4*Math.PI/3,deg270:3*Math.PI/2,deg300:5*Math.PI/3,deg315:7*Math.PI/4,deg330:11*Math.PI/6,deg360:Math.PI*2}),ee=window.queueMicrotask||(e=>setTimeout(e,0));function x(e,t,n,r,o,i){s.commands[e]=t,n||w.push({name:e,fn:t,isScreen:r,parameters:o||[],isSet:i,noParse:i})}function b(e,t,n,r){x(e,function(o,i){o.pixelMode?t(o,i):n(o,i)},!1,!0,r)}function E(e,t,n,r){s.settings[e]={name:e,fn:t,isScreen:n,parameters:r||[]},s.settingsList.push(e)}function L(e,t,n){s.penList.push(e),s.pens[e]={cmd:t,cap:n}}function T(e,t){s.blendCommandsList.push(e),s.blendCommands[e]=t}var te="2.0.0-alpha.1",C={version:te,_:{data:s,addCommand:x,addCommands:b,addSetting:E,addPen:L,addBlendCommand:T},util:p};typeof window<"u"&&(window.pi=C,window.$===void 0&&(window.$=C));var de=C;export{de as default,C as pi};
/**
 * Pi.js - Main Entry Point
 * 
 * Graphics and sound library for retro-style games and demos.
 * Modernized architecture with legacy API compatibility.
 * 
 * @module pi.js
 * @author Andy Stubbs
 * @license Apache-2.0
 */
//# sourceMappingURL=pi.esm.min.js.map
