<!DOCTYPE html>
<html>
	<head>
		<title>Onscreen Keyboard 02</title>
		<script type="text/toml">
			[[TOML_START]]
			file = "onscreen_keyboard_02"
			name = "onscreen keyboard 02 - number keyboard touch"
			width = 400
			height = 280
			commands = """
				DL 100
				TS 10, 35
				DL 10
				TE
				TS 45,35
				DL 10
				TE
				TS 55,55
				DL 10
				TE
				TS 140,35
				DL 10
				TE
				TS 75,35
				DL 10
				TE
				DL 100
				"""
			[[TOML_END]]
		</script>
		<!-- [Pi.js Script]-->
		<script src="../../../build/pi.js"></script>
		<script src="../../../plugins/print-table/dist/print-table.min.js"></script>
		<script src="../../../plugins/onscreen-keyboard/dist/onscreen-keyboard.min.js"></script>
		<!-- [/Pi.js Script]-->
	</head>
<body>
<script>

$.screen( { "aspect": "400x280" } );
$.setFont( 2 );
$.setColor( 7 );

$.ready( function() {

	let buffer = "";
	let cnt = $.getCols();
	$.print( "Touch number keys:" );
	$.print( "" );
	$.showKeyboard( "number" );

	setInterval( () => {
		const keys = $.inkey();
		$.cls( 0, 8, 400, 16 );
		if( keys && keys.length > 0 ) {
			for( let key of keys ) {
				if( key.key !== buffer.charAt( buffer.length - 1 ) ) {
					buffer += key.key;
				}
			}
		}
		$.setPos( 0, 1 );
		let start = Math.max( buffer.length - cnt, 0 );
		$.print( buffer.substring( start ), true );
	} );

} );

</script>
</body>
</html>


