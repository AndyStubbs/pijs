title = "onpress"
category = "pointer"
isScreen = true
plugin = "pointer"
summary = "Registers a callback function for press events (mouse or touch)."
description = """
Registers a callback function that will be called when a press event occurs. Press events
unify mouse and touch input, so the callback receives data from either input method.

Supports hit box filtering - if a hitBox is provided, the callback only fires when the press
is within that rectangular area.
"""
example = """
$.screen( "300x200" );
$.onpress( "down", ( pressData ) => {
	$.setPosPx( pressData.x, pressData.y );
	$.print( `(${pressData.x}, ${pressData.y})` );
} );

// With hit box
const hitBox = { "x": 10, "y": 10, "width": 100, "height": 50 };
$.setColor( 2 );
$.rect( hitBox );
$.setColor( 7 );
$.onpress( "move", ( pressData ) => {
	$.setColor( 3 );
	$.pset( pressData.x, pressData.y );
	$.setColor( 7 );
}, false, hitBox );

// One-time handler
$.onpress( "up", () => {
	$.setPos( 0, 12 )
	$.print( "press released once", true, true );
}, true );
"""

[[parameters]]
name = "mode"
type = "string"
description = "Event mode: 'down', 'up', or 'move'."

[[parameters]]
name = "fn"
type = "function"
signature = "( pressData: PressData, customData?: object ) => void"
description = "Callback function that receives (pressData, customData) when the event occurs."

[[parameters]]
name = "once"
type = "boolean"
description = "If true, the handler is removed after being called once."
optional = true

[[parameters]]
name = "hitBox"
type = "HitBox"
description = "Optional hit box object with x, y, width, height properties. Callback only fires if press is within this area."
optional = true

[[parameters]]
name = "customData"
type = "any"
description = "Optional custom data passed to the callback function."
optional = true

[[returns]]
type = "void"
description = "This function does not return a value."
