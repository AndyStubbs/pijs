title = "inpress"
category = "pointer"
isScreen = true
plugin = "pointer"
summary = "Gets the current press state (mouse or touch) and starts tracking if needed."
description = """
Returns press data from either mouse or touch, depending on which was used last. If the last
event was touch, returns touch press data. Otherwise, returns mouse data.

The returned object contains position, buttons, action, and type properties. For touch, it also
includes a touches array with all active touches.
"""
example = """
$.screen( "300x200" );
$.setPinchZoom( false );
requestAnimationFrame( run );
let tail = [];
function run() {
	const press = $.inpress();
	$.cls();
	
	// Draw press indicator
	if( press.buttons > 0 ) {
		$.setColor( 15 );
		$.circle( press.x, press.y, 10 );
		
		// Draw trail while dragging
		if( press.lastX !== undefined && press.lastY !== undefined && press.action === "move" ) {
			tail.push( [ press.x, press.y ] );
			if( tail.length > 50 ) {
				tail.shift();
			}
			let lastPt = null;
			for( const pt of tail ) {
				if( lastPt !== null ) {
					$.setColor( 7 );
					$.line( lastPt[ 0 ], lastPt[ 1 ], pt[ 0 ], pt[ 1 ] );
				}
				lastPt = pt;
			}
		}
		
		// Show input type
		$.setColor( 2 );
		$.print( `Input: ${press.type}` );
	} else {
		$.print( "Press and drag to draw" );
		tail = [];
	}
	
	requestAnimationFrame( run );
}
"""

[[returns]]
type = "PressData"
description = "Press data object (mouse or touch) with position, buttons, action, and type properties."
