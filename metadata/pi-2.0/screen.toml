title = "screen"
category = "core"
isScreen = false
summary = "Creates a new screen (canvas) with specified dimensions and aspect ratio."
description = """
Creates a new WebGL2 canvas screen and sets it as the active screen. The screen command must be
called before any graphics commands can be used.

Aspect ratio format: `(width)(x|e|m)(height)`
- **x**: Exact pixel dimensions (e.g., "320x200")
- **e**: Extend mode - extends canvas to fill container while maintaining aspect ratio
- **m**: Multiple mode - scales to exact multiples of target resolution

For offscreen screens, only exact pixel dimensions (x) are allowed.
"""

[[parameters]]
name = "aspect"
type = "string"
description = "Aspect ratio string in format (width)(x|e|m)(height), e.g., '320x200', '100m100', '640e480'."

[[parameters]]
name = "container"
type = "string|HTMLElement"
description = "DOM element or element ID string to use as container. Defaults to document.body."
optional = true

[[parameters]]
name = "isOffscreen"
type = "boolean"
description = "If true, creates an offscreen canvas that is not displayed. Requires exact pixel dimensions."
optional = true

[[parameters]]
name = "resizeCallback"
type = "function"
signature = "( screenApi: Screen, fromSize: Size, toSize: Size ) => void"
description = "Callback function called when screen is resized. Receives (screenApi, fromSize, toSize)."
optional = true

[[returns]]
type = "Screen"
description = "Screen API object with all graphics command and screen=true and id property."

example = """
$.screen( "320x200" );
$.screen( "640e480", document.getElementById( "game-container" ) );
const offscreen = $.screen( "256x256", null, true );
"""

