title = "offkey"
category = "keyboard"
isScreen = false
plugin = "keyboard"
summary = "Removes a key event handler."
description = """
Removes a previously registered key event handler. All parameters must match the original onkey
call exactly for the handler to be removed.
"""
example = """
$.screen( "300x200" );
$.print( "Press any key." );
$.print( "Press q to stop" );
$.onkey( "any", "down", keyPress );
$.onkey( "q", "down", stopPress );

// Key press function receives keyData
function keyPress( keyData ) {
	$.print( "You pressed " + keyData.key + "!" );
}

// Stop key press function receives keyData
function stopPress( keyData ) {
	$.print( "You pressed q! Stopping." );
	$.offkey( "any", "down", keyPress );
	$.offkey( "q", "down", keyPress );
}
"""

[[parameters]]
name = "key"
type = "string | array"
typeDesc = "*Many"
description = "Key code/key value string or array of keys that matches the original handler."

[[parameters]]
name = "mode"
type = "string"
description = "Event mode (\"up\" or \"down\") that matches the original handler."
optional = true

[[parameters]]
name = "fn"
type = "function"
signature = "( keyData: object ) => void"
description = "Callback function that matches the original handler."

[[parameters]]
name = "once"
type = "boolean"
description = "Once flag that matches the original handler."
optional = true

[[parameters]]
name = "allowRepeat"
type = "boolean"
description = "AllowRepeat flag that matches the original handler."
optional = true

[[returns]]
type = "void"
description = "This function does not return a value."
