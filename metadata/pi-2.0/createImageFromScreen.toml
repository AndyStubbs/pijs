title = "createImageFromScreen"
category = "images"
isScreen = true
summary = "Creates an image from a region of the current screen."
description = """
Copies a rectangular region from the screen into a new canvas-backed image and stores it by name.
"""
example = """
$.screen( "300x200" );
$.filterImg( ( color, x, y ) => {
	color[ 0 ] = ( x * y ) % 255;
	color[ 1 ] = ( x * y * 2 ) % 255;
	color[ 2 ] = ( x * y * 3 ) % 255;
	color[ 3 ] = 255;
	return true;
}, 0, 0, 50, 50 );

// Wait a tick because filterImg happens at end of frame
setTimeout( () => {
	const image1 = $.createImageFromScreen( { "x1": 0, "y1": 0, "x2": 50, "y2": 50 } );
	$.createImageFromScreen( "image2", 15, 15, 35, 35 );
	$.drawImage( image1, 100, 0 );
	$.drawImage( "image2", 200, 0 );
}, 0 );
"""

[[parameters]]
name = "name"
type = "string"
description = "Optional unique name for the image. Auto-generated if omitted."
optional = true

[[parameters]]
name = "x1"
type = "number"
description = "Left coordinate (defaults to 0)."
optional = true

[[parameters]]
name = "y1"
type = "number"
description = "Top coordinate (defaults to 0)."
optional = true

[[parameters]]
name = "x2"
type = "number"
description = "Right coordinate (defaults to screen width - 1)."
optional = true

[[parameters]]
name = "y2"
type = "number"
description = "Bottom coordinate (defaults to screen height - 1)."
optional = true

[[returns]]
type = "string"
description = "The created image name."
