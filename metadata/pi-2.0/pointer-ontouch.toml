title = "ontouch"
category = "pointer"
isScreen = true
plugin = "pointer"
summary = "Registers a callback function for touch events."
description = """
Registers a callback function that will be called when a touch event occurs. The callback
receives an array of touch data and optional custom data.

Supports hit box filtering - if a hitBox is provided, the callback only fires when touches
are within that rectangular area.
"""
example = """
$.screen( "300x200" );
let msg = "";
$.ontouch( "start", ( touches ) => {
	msg = `Touch started: ${touches.length} finger(s)`;
	$.setPos( 0, 0 );
	$.print( msg );
} );

$.ontouch( "move", ( touches ) => {
	$.cls();
	$.setPos( 0, 0 );
	$.print( msg );
	const letters = "ABCDEFGHIJ";
	for( let i = 0; i < touches.length; i += 1 ) {
		$.setPosPx( touches[ i ].x, touches[ i ].y );
		$.print( letters[ i ] );
	}
} );
"""

[[parameters]]
name = "mode"
type = "string"
description = "Event mode: 'start', 'end', or 'move'."

[[parameters]]
name = "fn"
type = "function"
signature = "( touchDataArray: Array<TouchData>, customData?: object ) => void"
description = "Callback function that receives (touchDataArray, customData) when the event occurs."

[[parameters]]
name = "once"
type = "boolean"
description = "If true, the handler is removed after being called once."
optional = true

[[parameters]]
name = "hitBox"
type = "HitBox"
description = "Optional hit box object with x, y, width, height properties. Callback only fires if touches are within this area."
optional = true

[[parameters]]
name = "customData"
type = "any"
description = "Optional custom data passed to the callback function."
optional = true

[[returns]]
type = "void"
description = "This function does not return a value."
