title = "ontouch"
category = "pointer"
isScreen = true
plugin = "pointer"
summary = "Registers a callback function for touch events."
description = """
Registers a callback function that will be called when a touch event occurs. The callback
receives an array of touch data and optional custom data.

Supports hit box filtering - if a hitBox is provided, the callback only fires when touches
are within that rectangular area.
"""

[[parameters]]
name = "mode"
type = "string"
description = "Event mode: 'start', 'end', or 'move'."

[[parameters]]
name = "fn"
type = "function"
description = "Callback function that receives (touchDataArray, customData) when the event occurs."

[[parameters]]
name = "once"
type = "boolean"
description = "If true, the handler is removed after being called once."
optional = true

[[parameters]]
name = "hitBox"
type = "object"
description = "Optional hit box object with x, y, width, height properties. Callback only fires if touches are within this area."
optional = true

[[parameters]]
name = "customData"
type = "any"
description = "Optional custom data passed to the callback function."
optional = true

[[returns]]
type = "void"
description = "This function does not return a value."

example = """
$.ontouch( "start", ( touches ) => {
	$.print( `Touch started: ${touches.length} finger(s)` );
} );

$.ontouch( "move", ( touches ) => {
	for( const touch of touches ) {
		$.print( `Touch ${touch.id} moved to ${touch.x}, ${touch.y}` );
	}
} );
"""

