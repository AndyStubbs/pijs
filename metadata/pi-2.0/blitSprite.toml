title = "blitSprite"
category = "images"
isScreen = true
summary = "Blits a frame from a spritesheet onto the screen using replace batch mode."
description = """
Blits a specific frame from a previously loaded spritesheet. Unlike drawSprite, this function uses
replace batch mode for faster rendering. The angle parameter is in radians (not degrees).

Note: The official recommended method for drawing sprites is the drawSprite command as it has
more safety with parameter validation and is still pretty fast.  So unless you really need the
extra performance boost or you do not want to do any blending with the screen then you should
stick with the drawSprite command.
"""
example = """
$.screen( "128x80" );
$.loadSpritesheet( "media/tiles.png", "tiles", 16, 16, 0 );
let tilesData;
let pal;
$.ready( () => {
	pal = $.getPal();
	tilesData = $.getSpritesheetData( "tiles" );
	let keys = "0123456789abcdefghijkl";
	let keyMap = {};
	keys.split( "" ).forEach(
		( key, val ) => keyMap[ key ] = val
	);
	let map = [
		"00ijk0000",
		"00001222",
		"07008999",
		"0012c996",
		"e0899d99",
	];
	let x = 0;
	let y = 0;
	for( const row of map ) {
		const cols = row.split( "" );
		for( const tile of cols ) {
			const frame = keyMap[ tile ];
			$.blitSprite( "tiles", frame, x, y );
			x += 16;
		}
		x = 0;
		y += 16;
	}
} );
"""

[[parameters]]
name = "name"
type = "string"
description = "Spritesheet name."

[[parameters]]
name = "frame"
type = "number"
description = "Frame index to draw (default 0)."
optional = true

[[parameters]]
name = "x"
type = "number"
description = "X (horizontal) coordinate (default 0)."
optional = true

[[parameters]]
name = "y"
type = "number"
description = "Y (vertical) coordinate (default 0)."
optional = true

[[parameters]]
name = "color"
type = "any"
description = "Optional color multiplier. Can be a palette index or color value (string, array, object, number). Defaults to white."
optional = true

[[parameters]]
name = "anchorX"
type = "number"
description = "X (horizontal) rotation point (0.0-1.0). Defaults to screen's default anchor."
optional = true

[[parameters]]
name = "anchorY"
type = "number"
description = "Y (vertical) rotation point (0.0-1.0). Defaults to screen's default anchor."
optional = true

[[parameters]]
name = "scaleX"
type = "number"
description = "Scale factor X (default 1)."
optional = true

[[parameters]]
name = "scaleY"
type = "number"
description = "Scale factor Y (default 1)."
optional = true

[[parameters]]
name = "angleRad"
type = "number"
description = "Rotation angle in radians (default 0)."
optional = true

[[returns]]
type = "void"
description = "This function does not return a value."
