title = "onclick"
category = "mouse"
isScreen = true
summary = "Registers a callback function for click events (mouse or touch) within an optional hit box area."
description = """
Creates a clickable area on the screen that triggers a callback function when clicked. A click event
is triggered when the user presses down (mouse down or touch start) and releases (mouse up or touch
end) within the same hit box area. The mouse cursor or touch point must be within the hit box area
for both the down and up events to register as a click.

If no hitBox is provided, the entire screen is used as the hit box area. The callback function
receives (clickData, customData) where clickData contains x, y, buttons, action, type, lastX, and
lastY properties. The customData parameter is optional and contains any custom data passed when
registering the handler.
"""

[[parameters]]
name = "fn"
type = "function"
signature = "( clickData: ClickData, customData?: object ) => void"
description = "Callback function called when the area is clicked."

[[parameters]]
name = "once"
type = "boolean"
description = "If true, removes the handler after being called once."
optional = true

[[parameters]]
name = "hitBox"
type = "HitBox"
description = "Optional hit box object with x, y, width, height properties."
optional = true

[[parameters]]
name = "customData"
type = "any"
description = "Optional custom data passed to the callback function."
optional = true

[[returns]]
type = "void"
description = "This function does not return a value."

example = """
$.screen( "300x200" );\r
var hitBox = {\r
\t"x": 25,\r
\t"y": 25,\r
\t"width": 100,\r
\t"height": 100\r
};\r
\r
// Draw a green box\r
$.setColor( 2 );\r
$.rect( hitBox );\r
\r
// Setup the onclick function for the hitBox\r
$.onclick( clickBox, true, hitBox );\r
\r
// Click function receives clickData and optional customData\r
function clickBox( clickData, customData ) {\r
\r
\t// Draw a red box\r
\t$.setColor( 4 );\r
\t$.rect( hitBox );\r
\r
\t// Wait a second then clear the box\r
\tsetTimeout( function () {\r
\t\t$.setColor( 0 );\r
\t\t$.rect( hitBox );\r
\t}, 1000 );\r
}\r
"""