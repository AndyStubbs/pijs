title = "offkey"
category = "keyboard"
isScreen = false
summary = "Removes a keyboard event handler registered with the onkey command."
description = """
Removes a keyboard event handler that was previously registered with the onkey command. The function
reference, key, and mode must exactly match the ones used when registering the handler with onkey.

The callback function receives keyData containing key, location, code, and keyCode properties.
"""
example = """
$.screen( "300x200" );
$.print( "Press any key." );
$.print( "Press q to stop" );
$.onkey( "any", "down", keyPress );
$.onkey( "Q", "down", stopPress );

// Key press function receives keyData
function keyPress( keyData ) {
	$.print( "You pressed " + keyData.key + "!" );
}

// Stop key press function receives keyData
function stopPress( keyData ) {
	$.print( "You pressed Q! Stopping." );
	$.offkey( "any", "down", keyPress );
	$.offkey( "Q", "down", keyPress );
}
"""


[[parameters]]
name = "key"
type = "string | number | array"
typeDesc = "*Many"
description = "Key identifier used when registering with onkey."

[[parameters]]
name = "mode"
type = "string"
description = "Event mode: 'down' or 'up'."

[[parameters]]
name = "fn"
type = "function"
signature = "( keyData: { key: string, location: number, code: string, keyCode: number } ) => void"
description = "Callback function used when registering with onkey."

[[returns]]
type = "void"
description = "This function does not return a value."
